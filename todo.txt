Before Beta 2:		
	Shuffle and repeat hotkeys are backwards
	
	D:\download\1964 - Dust Bowl Ballads
		No content in tag editor table (on windows, linux too?)
			
	Windows Specific		
		   
		art pane > right click > Set Artist Image is enabled, but doesn't do anything. It should work, there is an artist folder
		
		Volume takes a split second to change. 
		
		Some Global Hotkeys aren't consumed - Win + C, Win + X, etc.  
		
		
		Process Skipping Issue
			After some time of playing. Not immediately. 
			During playback every so often the playback stutters and the entire system stutters with it. 
			Playing a flac. 
			Happens more if you are messing w/ the UI
			I think it's the persister saving data every so often
			resizing tables or opening windows causes it. 
			clicking rapidly on the track library list checkbox causes it to happen real bad
			Similarly, editing the filter box quickly does it. Esp. the track filterbox.
			I think it's causing an exception in audio player loop. Line AudioPlayer.line176 was catching stuff
			
		Windows 7 - Songs with strange characters display as noise -- Neon Genesis Evangelion
		
		Memory Hog issue	
			loading images definitely makes it real bad. Fixing that will help, but won't solve it. 
			
			scrolling up and down the album or track table table does increase memory usage, but "only" by 100-200mb. 
			
			
			
			
				
			Start Hypnos
			Load a big library ( /d/music)
			Let it finish loading
			Close and reopen hypnos
			1.6GB memory footprint
			
			Start Hypnos
			Load a big library (/d/music)
			during load -- 1.26GB
			after load - 721MB
			after restart hypnos - 1.5GB
			it seems to stay there. I let it run for about 10 minutes, no drop in memory usage. 
			
			stopping the libraryUpdater and libraryLoader seems to cut into the problem tremendously
			
			Even after stopping updater and loader, it creeps up. It looks like everytime a new song is played?
				confirmed. Each new song spikes the memory. Just flipping through the songs without playing them causes it
					Is this related to the skipping issue? - doesn't seem to be with one or two tracks after ramping up the memory
				Was able to get it to 3 GB just by flipping through tracks. Could probably go higher. 
				
			
			
		
		Some Windows don't have icons
			No: Config, Jump, tag editor, album info, track info, history
			yes: Playlist prompt
			
		Really large memory footprint -- 432MB. Foobar is 57k. Is it like that in linux? 
			When loading from disk it jumped to 2GB :-o
		
		Current list label section has some unicode characters. Need to fix them for windows 7 and below. 
						
General:	
	Tag window right click menu is missing some stuff
	
	On unpause set artwork to the current track
	
	Probably print full exceptions in error log.
	
	Missing tracks are deleted from currentlist after restart if CurrentList.mode == ALBUM instead of remaining and being highlighted in red
	
	Jump to Track Window - Using Hypnos Resize Policy causes some infinite loop
	
	All Tables
		Esc - album, track, and playlist problem -- it currently closes window regardless. 
		
	Popup Windows
		Esc - tagWindow & settings Window - this is a little difficult because esc also stops editing a cell
		
	Update current list length section with selection's length, set to entire list when no selection
	
	Volume Slider 
		doesn't feel right. Do some math formula instead of linear
		
	Maybe allow escape to close more windows. Need to be careful not to override the function it serves for editable tables. 
	
	Show in tag edit window when a file doesn't support a particular tag type
	
	Resize Policy	
		Do work with preferred widths. 

	Refactor Library
		Make a source directory a class, not just a path.
			Library Source Directories - highlight in red if they are missing. 

		An album will form from tracks if you edit them and they aren't currently an album. But an album won't split if you edit tags and make it not be an album.
			Is this desired behavior? I feel like probably no -- it can create different states based on the same disk contents, which doesn't make sense
			
		Albums aren't updating on the album list when you edit tags. Probably because they're behind in the update queue or I broke album.update
		
		Sometimes there are duplicated tracks in the track list
		
		When removing all sources, it takes a long time to remove everything (5+ seconds)
			This is because of the processWatcherEvents function taking lots of time on load. 
			
		Setup a currentList.updateAlbum and updatePlaylist system
			Doesn't change artwork
			CurrentplayingTrack is the same one
			updates data and locations
			
		Library load and unload time
		
		Loader status % complete thing
		
	Resize Policy
		Windowed mode, shrink window until a scrollbar appears. Maximize window so scrollbar disappears -- Scrollbar width is still accounted for
		
		Scrollbar width is calculated wrong by 4 pixels. I have it hardcoded, but I posted a SE question
			https://stackoverflow.com/questions/47852175/get-full-width-of-scrollbar-for-a-tableview
		
		CustomResizePolicy is not called when double clicking on table header dividers to shrink wrap	
			https://stackoverflow.com/questions/47852239/customresizepolicy-not-triggering-when-a-columns-headers-divider-is-double-cli

	Tag auto fix button
				
	persist column info
		sort options
		ordering
	
	I don't like the way the library line wraps in the manifest. Can we make this nicer in ant? 
	
	Bug report dialog
	
	Export playlist as a folder
		Copy all of the music files into that folder. Prepend them with index number? 
		Warn if the total copy is larger than X MB or more than X tracks
	
	Drag and drop from misc places to system
		playlist table -> m3u
		track table, history, queue, info windows, current table -> single tracks
		album table -> folder
	
	Add default sort column choice, like shuffle and repeat
	
	Hover effects on transparent image buttons
		Settings Button
		Volume button
		https://stackoverflow.com/questions/47765228/is-it-possible-to-set-tthe-hsv-for-a-color-adjust-via-css
		settingsButton.setOnMouseEntered( e -> settingsImage.setEffect( this.darkThemeButtonsHover ) );
		settingsButton.setOnMouseExited( e -> settingsImage.setEffect( isDarkTheme()? darkThemeButtons : null ) );
		This is kind of a pain. We need to hard code the values, convert from hsv to color adjust, and also probably have white button images instead of black. 
				
	If you load albumsAndTracks but not sources Hypnos acts real wierd. Goes back and forth between not responding. On Windows confirmed.  	
					
		
JavaFX stuff
	Double clicking on table-column dividers doesn't call resize:
		https://stackoverflow.com/questions/47852239/customresizepolicy-not-triggering-when-a-columns-headers-divider-is-double-cli
	
	DND Error that doesn't do any harm
		Exception in thread "JavaFX Application Thread" java.lang.RuntimeException: dndGesture.dragboard is null in dragDropEnd
			at javafx.scene.Scene$DragSourceListener.dragDropEnd(Scene.java:3310)
			at com.sun.javafx.tk.quantum.GlassScene$1.lambda$actionPerformed$0(GlassScene.java:254)
			at java.security.AccessController.doPrivileged(Native Method)
			at com.sun.javafx.tk.quantum.GlassScene$1.actionPerformed(GlassScene.java:251)
			at com.sun.glass.ui.Clipboard.actionPerformed(Clipboard.java:173)
			at com.sun.glass.ui.gtk.GtkDnDClipboard.pushToSystem(GtkDnDClipboard.java:41)
			at com.sun.glass.ui.SystemClipboard.flush(SystemClipboard.java:51)
			at com.sun.glass.ui.ClipboardAssistance.flush(ClipboardAssistance.java:59)
			at com.sun.javafx.tk.quantum.QuantumClipboard.flush(QuantumClipboard.java:274)
			at com.sun.javafx.tk.quantum.QuantumToolkit.startDrag(QuantumToolkit.java:1224)
			at javafx.scene.Scene$DnDGesture.dragDetectedProcessed(Scene.java:2953)
			at javafx.scene.Scene$DnDGesture.process(Scene.java:3022)
			at javafx.scene.Scene$DnDGesture.access$8200(Scene.java:2909)
			at javafx.scene.Scene$MouseHandler.process(Scene.java:3773)
			at javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)
			at javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)
			at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)
			at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:381)
			at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)
			at java.security.AccessController.doPrivileged(Native Method)
			at com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:417)
			at com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)
			at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:416)
			at com.sun.glass.ui.View.handleMouseEvent(View.java:555)
			at com.sun.glass.ui.View.notifyMouse(View.java:937)
			at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)
			at com.sun.glass.ui.gtk.GtkApplication.lambda$null$5(GtkApplication.java:139)
			at java.lang.Thread.run(Thread.java:748)
			
	Tray Icon
		I have a few demos that are all terrible. It looks like we need to wait for JavaFX to get this going for us. 
		Or maybe just show an icon with no menus. Kinda hate that. How do we exit? 
		Gnome 3 doesn't support. Code works but creates a bad entry on taskbar.
		What systems do support? 
		What other systems don't support? How to handle? 
		https://stackoverflow.com/questions/29995727/java-systemtray-icon-does-not-always-work
		
	hide/show via hotkeys while maximized toggles every 3 presses instead of every 2 presses. 
		https://stackoverflow.com/questions/45269173/stage-seticonified-and-stage-isiconified-not-acting-properly
		I think this is working correctly now? I updated the jvm from _131 to _151 and it seems good? 
				
	Showing any dialog prevents window drag resize. 
		http://bugs.java.com/bugdatabase/view_bug.do?bug_id=8140491
		https://stackoverflow.com/questions/33134791/javafx-stage-cant-be-resized-after-showing-a-dialog
	
	While loading the library, the table view scrolls a little bit. 
		https://stackoverflow.com/questions/47950917/stop-tableview-small-scroll-when-adding-content-to-bottom-of-table
	
	Tiny drop shadow on transport buttons when in dark theme. It's the line HBox, VBox, #transport { ... -fx-background-color: #222222 ... }
	
Refactor / organize my code. 
 	Make LibraryUpdater part of Library. Is there a way to abstract out the Platform -> RunLater part? I feel like we're just stuck w/ that, which kind of ties to us JavaFX. 
 		Maybe ui.runMe ( Runnable ), and then the UI can decide whether to launch a new thread, have a thread idling, do it on this thread, or use something like Platform.runLater()	

 	Make MainWindow its own class, and have FXUI be more of a simple manager? 
 	
	use observable values for all of the track and album stuff, so we don't have to do refreshes
	
	a better structure for persister
	
	a better structure for hotkey commands (maybe combine with commandline commands?)
	
	Move all the file browser calls into a single function
	
	Make a single function for setting up right click menus, or at least combine a bunch. We have so many big chunks of the same code. 

Decoders

	Play mounted audio cd
		http://www.jsresources.org/examples/CddaPlayer.java.html

	Trying to play back https://archive.org/download/testmp3testfile/mpthreetest.mp3 using 
	http://hypnosplayer.org/download/beta1/Hypnos-nix-64bit-beta1.AppImage on Xubuntu 16.04 gives a very high-pitch voice, not how it should sound.
	
	Mp4
		buffered input stream on the random access File stream
		
	Ogg
		Works, seeking is done using read() instead of skip(), so it's a little slow.
		
	m4b - Fast play for some reason
		https://stackoverflow.com/questions/44750751/why-are-m4bs-playing-at-faster-speeds
		I need to set the sample rate to one of these: 96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350 
		The files seem te report the wrong sample rate. JAAD acutally reads them. 
		
	Flac
		Can we get flacplayer.java to play things that we need jflac for:
			Adrian Orange
			A Perfect Circle - Mer de noms
			Pink Floyd - Pulse (disc 1)
			
		buffered input stream on the random access File stream
		
	Test Cases
		organfinale.wav
			No line matching interface SourceDataLine supporting format PCM_FLOAT 44100.0 Hz, 32 bit, stereo, 8 bytes/frame,  is supported.
			at javax.sound.sampled.AudioSystem.getLine(AudioSystem.java:479)
			at net.joshuad.musicplayer.players.WavPlayer.openStreamsAtRequestedOffset(WavPlayer.java:133)
		
		Leonard Cohen - You want it Darker
			No volume control

		three-silver.ogg
			Long files take a long time to seek
			Long load time
			
		normal.wav
			Slow seek
			
		c304-2.wav
			Slow load, slow seek
		
		long.m4a
			No load

		normal.ogg
			Trouble seeking
		
	Wav
		BufferedInputStream

OS Specific		
	All:
		https://stackoverflow.com/questions/7506329/embed-java-into-a-c-application

	Windows
		Open-with shell integration
		Installer
	    Standalone build (32-bit)
		Rename java process to Hypnos
		
	Linux
		use a compiled launcher rather than a script -- this will make the appimage nicer I think
		Rename java process to Hypnos
		
		Gnome3 
			Right click -> Open with -- loads the files to current list, but doesn't start playing. 
			
		https://www.freedesktop.org/software/appstream/docs/chap-Quickstart.html#sect-Quickstart-DesktopApps
	
	OSX
		Does our package work? 
		Open-with shell integration
		.DMG installer
		Rename java process to Hypnos ?
		
		Test global hotkeys
	
Some exceptions don't show in log. Looks like javafx thread stuff.
		Exception in thread "JavaFX Application Thread" java.lang.NullPointerException
		at net.joshuad.hypnos.fxui.FormattedAlbumCell.updateItem(Unknown Source)
		at net.joshuad.hypnos.fxui.FormattedAlbumCell.updateItem(Unknown Source)
		at javafx.scene.control.TableCell.updateItem(TableCell.java:663)
		at javafx.scene.control.TableCell.indexChanged(TableCell.java:468)
		at javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:116)
		at com.sun.javafx.scene.control.skin.TableRowSkinBase.updateCells(TableRowSkinBase.java:533)
		at com.sun.javafx.scene.control.skin.TableRowSkinBase.init(TableRowSkinBase.java:147)
		at com.sun.javafx.scene.control.skin.TableRowSkin.<init>(TableRowSkin.java:64)
		at javafx.scene.control.TableRow.createDefaultSkin(TableRow.java:212)
		at javafx.scene.control.Control.impl_processCSS(Control.java:872)
		at javafx.scene.Node.processCSS(Node.java:9058)
		at javafx.scene.Node.applyCss(Node.java:9155)
		at com.sun.javafx.scene.control.skin.VirtualFlow.setCellIndex(VirtualFlow.java:1964)
		at com.sun.javafx.scene.control.skin.VirtualFlow.getCell(VirtualFlow.java:1797)
		at com.sun.javafx.scene.control.skin.VirtualFlow.getCellLength(VirtualFlow.java:1879)
		at com.sun.javafx.scene.control.skin.VirtualFlow.computeViewportOffset(VirtualFlow.java:2528)
		at com.sun.javafx.scene.control.skin.VirtualFlow.layoutChildren(VirtualFlow.java:1189)
		at javafx.scene.Parent.layout(Parent.java:1087)
		at javafx.scene.Parent.layout(Parent.java:1093)
		at javafx.scene.Parent.layout(Parent.java:1093)
		at javafx.scene.Parent.layout(Parent.java:1093)
		at javafx.scene.Parent.layout(Parent.java:1093)
		at javafx.scene.Parent.layout(Parent.java:1093)
		at javafx.scene.Parent.layout(Parent.java:1093)
		at javafx.scene.Parent.layout(Parent.java:1093)
		at javafx.scene.Parent.layout(Parent.java:1093)
		at javafx.scene.Scene.doLayoutPass(Scene.java:552)
		at javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2397)
		at com.sun.javafx.tk.Toolkit.lambda$runPulse$3(Toolkit.java:355)
		at java.security.AccessController.doPrivileged(Native Method)
		at com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:354)
		at com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:381)
		at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:510)
		at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:490)
		at com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:319)
		at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
		at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)
		at com.sun.glass.ui.gtk.GtkApplication.lambda$null$5(GtkApplication.java:139)
		at java.lang.Thread.run(Thread.java:748)
	Exception in thread "JavaFX Application Thread" java.lang.NullPointerException
		at net.joshuad.hypnos.fxui.FormattedAlbumCell.updateItem(Unknown Source)
		at net.joshuad.hypnos.fxui.FormattedAlbumCell.updateItem(Unknown Source)
		at javafx.scene.control.TableCell.updateItem(TableCell.java:663)
		at javafx.scene.control.TableCell.indexChanged(TableCell.java:468)
		at javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:116)
		at com.sun.javafx.scene.control.skin.TableRowSkinBase.updateCells(TableRowSkinBase.java:533)
		at com.sun.javafx.scene.control.skin.TableRowSkinBase.init(TableRowSkinBase.java:147)
		at com.sun.javafx.scene.control.skin.TableRowSkin.<init>(TableRowSkin.java:64)
		at javafx.scene.control.TableRow.createDefaultSkin(TableRow.java:212)
		at javafx.scene.control.Control.impl_processCSS(Control.java:872)
		at javafx.scene.Parent.impl_processCSS(Parent.java:1280)
		at javafx.scene.Parent.impl_processCSS(Parent.java:1280)
		at javafx.scene.Parent.impl_processCSS(Parent.java:1280)
		at javafx.scene.control.Control.impl_processCSS(Control.java:868)
		at javafx.scene.Parent.impl_processCSS(Parent.java:1280)
		at javafx.scene.Parent.impl_processCSS(Parent.java:1280)
		at javafx.scene.Parent.impl_processCSS(Parent.java:1280)
		at javafx.scene.control.Control.impl_processCSS(Control.java:868)
		at javafx.scene.Node.processCSS(Node.java:9058)
		at javafx.scene.Node.processCSS(Node.java:9051)
		at javafx.scene.Node.processCSS(Node.java:9051)
		at javafx.scene.Node.processCSS(Node.java:9051)
		at javafx.scene.Node.processCSS(Node.java:9051)
		at javafx.scene.Scene.doCSSPass(Scene.java:545)
		at javafx.scene.Scene.access$3600(Scene.java:159)
		at javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2392)
		at com.sun.javafx.tk.Toolkit.lambda$runPulse$3(Toolkit.java:355)
		at java.security.AccessController.doPrivileged(Native Method)
		at com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:354)
		at com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:381)
		at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:510)
		at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:490)
		at com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:319)
		at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
		at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)
		at com.sun.glass.ui.gtk.GtkApplication.lambda$null$5(GtkApplication.java:139)
		at java.lang.Thread.run(Thread.java:748)
	Exception in thread "JavaFX Application Thread" java.lang.NullPointerException
		at net.joshuad.hypnos.fxui.FormattedAlbumCell.updateItem(Unknown Source)
		at net.joshuad.hypnos.fxui.FormattedAlbumCell.updateItem(Unknown Source)
		at javafx.scene.control.TableCell.updateItem(TableCell.java:663)
		at javafx.scene.control.TableCell.indexChanged(TableCell.java:468)
		at javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:116)
		at com.sun.javafx.scene.control.skin.TableRowSkinBase.updateCells(TableRowSkinBase.java:533)
		at com.sun.javafx.scene.control.skin.TableRowSkinBase.init(TableRowSkinBase.java:147)
		at com.sun.javafx.scene.control.skin.TableRowSkin.<init>(TableRowSkin.java:64)
		at javafx.scene.control.TableRow.createDefaultSkin(TableRow.java:212)
		at javafx.scene.control.Control.impl_processCSS(Control.java:872)
		at javafx.scene.Parent.impl_processCSS(Parent.java:1280)
		at javafx.scene.Parent.impl_processCSS(Parent.java:1280)
		at javafx.scene.Parent.impl_processCSS(Parent.java:1280)
		at javafx.scene.control.Control.impl_processCSS(Control.java:868)
		at javafx.scene.Parent.impl_processCSS(Parent.java:1280)
		at javafx.scene.Parent.impl_processCSS(Parent.java:1280)
		at javafx.scene.Parent.impl_processCSS(Parent.java:1280)
		at javafx.scene.control.Control.impl_processCSS(Control.java:868)
		at javafx.scene.Node.processCSS(Node.java:9058)
		at javafx.scene.Node.processCSS(Node.java:9051)
		at javafx.scene.Node.processCSS(Node.java:9051)
		at javafx.scene.Node.processCSS(Node.java:9051)
		at javafx.scene.Node.processCSS(Node.java:9051)
		at javafx.scene.Scene.doCSSPass(Scene.java:545)
		at javafx.scene.Scene.access$3600(Scene.java:159)
		at javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2392)
		at com.sun.javafx.tk.Toolkit.lambda$runPulse$3(Toolkit.java:355)
		at java.security.AccessController.doPrivileged(Native Method)
		at com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:354)
		at com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:381)
		at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:510)
		at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:490)
		at com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:319)
		at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
		at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)
		at com.sun.glass.ui.gtk.GtkApplication.lambda$null$5(GtkApplication.java:139)
		at java.lang.Thread.run(Thread.java:748)
			

